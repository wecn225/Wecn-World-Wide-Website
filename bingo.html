<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<title>B I N G O</title>
		<meta name="viewport" content="width=600, initial-scale=1">
		<meta name="description" content="Bingo! Bye-bye">
		<script src="./jquery-1.11.3.min.js"></script>  
        
        <style>
			html, a, a:hover { cursor:url('/images/cursor.png'), auto }
		</style>
				
		<link rel="stylesheet" href="bingo.css">
        <link rel="stylesheet" href="wecnan.css">
			</head>

	<body>
		<div id="Main">

<div id="Header">
<img src= "./images/Wecnan_HQ.png" width="57" height="49" align="left"/>
<h1 style="position: relative; top:9px; display: inline;">ecn World Wide</h1> <h1 style="position: relative; top:9px; left: 420px; display: inline;">JSRF Speedrunning Bingo</h1>
<img src= "./images/RainbowFlag.png" height="50" align="right"/>
<img src= "./images/World Socialist Flag.png" height="50" align="right"/>
</div>

<div id="Navbar">
  
    <a class="navbutton" style="height:50px;width:319px;font-size: 290%;" href="index.html"><p style="position: relative;left: 5px;text-align: left;">Home</p></a>  	
    <a class="navbutton" style="height:50px;width:319px;font-size: 290%;" href="./phpBB3"><p style="position: relative;left: 5px;text-align: left;">Forum</p></a>
    <a class="navbutton_active" style="height:50px;width:319px;font-size: 290%;" href="bingo.html"><p style="position: relative;left: 5px;text-align: left;">Bingo</p></a>   
    <a class="navbutton" style="height:50px;width:319px;font-size: 290%;" href="Downloads.html"><p style="position: relative;left: 5px;text-align: left;">Downloads</p></a>    	 
  
    <img src="./images/communism.gif" id="USSR"/>
</div>

		<div id="content">	
			<script type="text/javascript">
				$(document).ready(function()
				{
					
					$("#newCard").click(function(e)
					{
						e.preventDefault();
						RandomizeCard();
					});
					RandomizeCard();
				
					$("#addSquare").click(function(e)
					{
						window.location.hash = "#submit";
						e.preventDefault();
						$("#preview").attr("src", "http://placehold.it/184x184/DCDCDC");
						$("#frmSubmitSquare").show();
						$("#frmSubmitSquare").focus();
						if ($("#file").val() != "")
							$("#file").replaceWith($("#file").clone());
						$("#file").change(function(input)
						{
							if ($(this).prop("files"))
							{
								var reader = new FileReader();
								reader.onload = function (e)
								{
									$("#preview").bind("load", function(ee)
									{
										$("#uploader").children("span#size").html("Image size: " + $("#preview").get(0).naturalWidth + "x" + $("#preview").get(0).naturalHeight);
										if ($("#preview").get(0).naturalHeight > 184 || $("#preview").get(0).naturalWidth > 184)
										{
											$("#uploader").children("span#notice").css("color", "red");
										}
										else
										{
											$("#uploader").children("span#notice").css("color", "initial");
										}
									});
									$("#preview").attr("src", e.target.result).width(184).height(184).show();
									
								};
								reader.onprogress = function(e)
								{
									if (e.lengthComputable)
									{
										var percentLoaded = Math.round((e.loaded / e.total) * 100);
										// Increase the progress bar length.
										if (percentLoaded < 100)
										{
											$("span#size").html("Loaded: " + percentLoaded + "%");
										}
									}
								};
								reader.readAsDataURL($(this).prop("files")[0]);
							}
						});
					});
					
					$("#curtain").click(function(e)
					{
						e.preventDefault();
						$("#frmSubmitSquare").hide();
						window.location.hash = "";
					});
					
					if (window.location.hash)
					{
						if (window.location.hash == "#submit")
						{
							$("#addSquare").click();
						}
					}
				});
				var cards = [					
	"./bingo/cam.png",
	"./bingo/communism.png",
	"./bingo/Frameboost.png",
	"./bingo/Kappatalism.png",
	"./bingo/LSbackup.png",
	"./bingo/whenyou.png",
	"./bingo/chund.png",
	"./bingo/EZ.png",
	"./bingo/Flag.png",
	"./bingo/garage.png",
	"./bingo/graffiti.png",
	"./bingo/Heli.png",
	"./bingo/Hiipfire.png",
	"./bingo/Krispy.png",
	"./bingo/load.png",	
	"./bingo/lurking.png",
	"./bingo/management.png",
	"./bingo/mod.png",
	"./bingo/panic.png",
	"./bingo/pyramid.png",
	"./bingo/race.png",
	"./bingo/race2.png",
	"./bingo/rekt.png",
	"./bingo/rip.png",
	"./bingo/smash.png",
	"./bingo/sparta.png",
	"./bingo/sub2.png",
	"./bingo/Super.png",
	"./bingo/whatare.png",
	"./bingo/topical.png",
	"./bingo/TW.png",
	"./bingo/TW2.png",
	"./bingo/vape.png",
	"./bingo/wwe.png",
	"./bingo/yoyo.png",	
	"./bingo/baby.png",
	"./bingo/green.png",
	"./bingo/clutch.png",
	"./bingo/hack.png",
	"./bingo/rip2.png",	
	"./bingo/2cycle.png",
	"./bingo/boogle.png",
	"./bingo/combo.png",
	"./bingo/copskip.png",
	"./bingo/drone.png",
	"./bingo/flame.png",
	"./bingo/Jets.png",
	"./bingo/onion.png",
	"./bingo/pickle.png",
	"./bingo/record.png",
	"./bingo/softlock.png",
	"./bingo/train.png",
	"./bingo/zulzul.png",
	"./bingo/ruse.png",
				];
				var freespace = "./bingo/Free.png";
				if (cards.indexOf(freespace) >= 0)
					cards.splice(cards.indexOf(freespace), 1);
				
				function OnBingoSquareClicked(e)
				{
					if ($(this).children("img.dabber").length != 0)
						$(this).children("img.dabber").remove();
					else
					{
						var tdparent = $(this);
						var newimg = $("<img class=\"dabber\" src=\"./images/Wecnan_HQ.png\" />");
						newimg.bind("load", function()
						{
							$(newimg).css("width", $(tdparent).width() / 2 + "px");
							$(newimg).css("left", (e.offsetX - (($(tdparent).width() / 2)/2)) + "px");
							$(newimg).css("top", (e.offsetY - (($(newimg).height() / 2) / 2)) + "px");
							$(newimg).show();
						});
						$(this).append(newimg);
						newimg.hide();
						$(newimg).css("width", $(this).width() / 2 + "px");
						$(newimg).css("left", (e.offsetX - (($(this).width() / 2)/2)) + "px");
						$(newimg).css("top", (e.offsetY - (($(newimg).height() / 2) / 2)) + "px");
					}
					//$(this).toggleClass("toggle");
				}
				
				function RandomizeCard()
				{
					var added = [];
					var tdindex = 0;
					$("tr").each(function()
					{
						if ($(this).children("th").length == 0)
						{
							tdindex += 1;
							$(this).children("td").remove();
							while ($(this).children("td").length < 5 && cards.length >= 25)
							{
								if (tdindex == 3 && $(this).children("#bfree").length == 0 && $(this).children("td").length == 2)
								{
									$(this).append("<td id=\"bfree\"><img src=\"" + freespace + "\" /></td>");
								}
								var selection = Math.floor(Math.random()*cards.length);
								while ($("#b" + selection).length > 0 && cards.length >= 25)
								{
									selection = Math.floor(Math.random()*cards.length);
								}
								$(this).append("<td id=\"b" + selection + "\"><img src=\"" + cards[selection] + "\" /></td>");
							}
							if (cards.length < 25)
							{
								while ($(this).children("td").length < 5)
								{
									if ($(this).children("td").length == 0)
										$(this).append("<td style=\"color:red;\">ERROR</td>");
									if ($(this).children("td").length == 1)
										$(this).append("<td>NOT</td>");
									if ($(this).children("td").length == 2)
										$(this).append("<td>ENOUGH</td>");
									if ($(this).children("td").length == 3)
										$(this).append("<td>BINGO</td>");
									if ($(this).children("td").length == 4)
										$(this).append("<td>SQUARES</td>");
								}
							}
						}
					});
					$("td").bind("click", OnBingoSquareClicked);
					$("td img").on("dragstart", function(event) { event.preventDefault(); });
				}
			</script>
			<a id="RandomCard" href="bingo.html"></a>			
						
			<table>
				<tbody><tr>
					<th colspan="1">B</th>
					<th colspan="1">I</th>
					<th colspan="1">N</th>
					<th colspan="1">G</th>
					<th colspan="1">O</th>
				</tr>
				<tr>
					
					
					
					
					
				<td id="b25"><img src="./bingo/Free.png"></td><td id="b10"><img src="./bingo/Free.pngg"></td><td id="b4"><img src="./bingo/Free.png"></td><td id="b23"><img src="./bingo/Free.png"></td><td id="b40"><img src="./bingo/Free.png"></td></tr>
				<tr>
					
					
					
					
					
				<td id="b2"><img src="./bingo/Free.png"></td><td id="b9"><img src="./bingo/Free.png"></td><td id="b0"><img src="./bingo/Free.png"></td><td id="b36"><img src="./bingo/Free.png"></td><td id="b33"><img src="./bingo/Free.png"></td></tr>
				<tr>
					
					
					
					
					
				<td id="b16"><img src="./bingo/Free.png"></td><td id="b1"><img src="./bingo/Free.png"></td><td id="bfree"><img src="./bingo/Free.png"></td><td id="b39"><img src="./bingo/Free.png"></td><td id="b31"><img src="./bingo/Free.png"></td></tr>
				<tr>
					
					
					
					
					
				<td id="b3"><img src="./bingo/Free.png"></td><td id="b26"><img src="./bingo/Free.png"></td><td id="b15"><img src="./bingo/Free.png"></td><td id="b29"><img src="./bingo/Free.png"></td><td id="b18"><img src="./bingo/Free.png"></td></tr>
				<tr>
					
					
					
					
					
				<td id="b24"><img src="./bingo/Free.png"></td><td id="b28"><img src="./bingo/Free.png"></td><td id="b19"><img src="./bingo/Free.png"></td><td id="b35"><img src="./bingo/Free.png"><img src="./bingo/Free.png"></td></tr>
			</tbody></table>
			
		</div>
        
        </div>
        

	

</body></html>
